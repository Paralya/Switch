
# Start
tellraw @s [{"text":"[Boutique Spectres Game]","color":"yellow"}]

# Init scoreboard
scoreboard players add @s switch.spectres_game.sp_arrow_effect 0
scoreboard players add @s switch.spectres_game.sp_arrows 0
scoreboard players add @s switch.spectres_game.sp_apples 0
scoreboard players add @s switch.spectres_game.vi_arrows 0
scoreboard players add @s switch.spectres_game.vi_apples 0
scoreboard players add @s switch.spectres_game.vi_slow_regen 0
execute if score @s switch.trigger.shop matches 500 run playsound block.note_block.bell ambient @s

## Spectre
# Random effects on arrows
execute if score @s switch.trigger.shop matches 501 if score @s switch.spectres_game.sp_arrow_effect matches 0 if score @s switch.money matches 50.. store success score #success switch.data run scoreboard players remove @s switch.money 50
execute if score @s switch.trigger.shop matches 501 if score @s switch.spectres_game.sp_arrow_effect matches 1 if score @s switch.money matches 100.. store success score #success switch.data run scoreboard players remove @s switch.money 100
execute if score @s switch.trigger.shop matches 501 if score @s switch.spectres_game.sp_arrow_effect matches 2 if score @s switch.money matches 200.. store success score #success switch.data run scoreboard players remove @s switch.money 200
execute if score @s switch.trigger.shop matches 501 if score @s switch.spectres_game.sp_arrow_effect matches 3 if score @s switch.money matches 400.. store success score #success switch.data run scoreboard players remove @s switch.money 400
execute if score @s switch.trigger.shop matches 501 if score #success switch.data matches 1.. run scoreboard players add @s switch.spectres_game.sp_arrow_effect 1
execute if score @s switch.trigger.shop matches 501 if score #success switch.data matches 1.. run tellraw @s [{"text":"Votre achat pour améliorer la probabilité d'effet aléatoire sur les flèches a bien été effectué !","color":"green"}]
execute if score @s switch.trigger.shop matches 501 if score #success switch.data matches 1.. run playsound entity.player.levelup ambient @s
execute if score @s switch.trigger.shop matches 501 if score #success switch.data matches 0 run tellraw @s [{"text":"Vous n'avez pas assez d'argent pour améliorer cette probabilité !","color":"red"}]
execute if score @s switch.trigger.shop matches 501 if score #success switch.data matches 0 run playsound entity.zombie.attack_iron_door ambient @s

# Arrow amount
execute if score @s switch.trigger.shop matches 502 if score @s switch.spectres_game.sp_arrows matches 0 if score @s switch.money matches 50.. store success score #success switch.data run scoreboard players remove @s switch.money 50
execute if score @s switch.trigger.shop matches 502 if score @s switch.spectres_game.sp_arrows matches 1 if score @s switch.money matches 100.. store success score #success switch.data run scoreboard players remove @s switch.money 100
execute if score @s switch.trigger.shop matches 502 if score @s switch.spectres_game.sp_arrows matches 2 if score @s switch.money matches 200.. store success score #success switch.data run scoreboard players remove @s switch.money 200
execute if score @s switch.trigger.shop matches 502 if score @s switch.spectres_game.sp_arrows matches 3 if score @s switch.money matches 400.. store success score #success switch.data run scoreboard players remove @s switch.money 400
execute if score @s switch.trigger.shop matches 502 if score #success switch.data matches 1.. run scoreboard players add @s switch.spectres_game.sp_arrows 1
execute if score @s switch.trigger.shop matches 502 if score #success switch.data matches 1.. run tellraw @s [{"text":"Votre achat pour améliorer votre nombre de flèches a bien été effectué !","color":"green"}]
execute if score @s switch.trigger.shop matches 502 if score #success switch.data matches 1.. run playsound entity.player.levelup ambient @s
execute if score @s switch.trigger.shop matches 502 if score #success switch.data matches 0 run tellraw @s [{"text":"Vous n'avez pas assez d'argent pour améliorer votre nombre de flèches !","color":"red"}]
execute if score @s switch.trigger.shop matches 502 if score #success switch.data matches 0 run playsound entity.zombie.attack_iron_door ambient @s

# Golden Apples amount
execute if score @s switch.trigger.shop matches 503 if score @s switch.spectres_game.sp_apples matches 0 if score @s switch.money matches 50.. store success score #success switch.data run scoreboard players remove @s switch.money 50
execute if score @s switch.trigger.shop matches 503 if score @s switch.spectres_game.sp_apples matches 1 if score @s switch.money matches 100.. store success score #success switch.data run scoreboard players remove @s switch.money 100
execute if score @s switch.trigger.shop matches 503 if score @s switch.spectres_game.sp_apples matches 2 if score @s switch.money matches 200.. store success score #success switch.data run scoreboard players remove @s switch.money 200
execute if score @s switch.trigger.shop matches 503 if score #success switch.data matches 1.. run scoreboard players add @s switch.spectres_game.sp_apples 1
execute if score @s switch.trigger.shop matches 503 if score #success switch.data matches 1.. run tellraw @s [{"text":"Votre achat pour améliorer votre nombre de pommes a bien été effectué !","color":"green"}]
execute if score @s switch.trigger.shop matches 503 if score #success switch.data matches 1.. run playsound entity.player.levelup ambient @s
execute if score @s switch.trigger.shop matches 503 if score #success switch.data matches 0 run tellraw @s [{"text":"Vous n'avez pas assez d'argent pour améliorer votre nombre de pommes !","color":"red"}]
execute if score @s switch.trigger.shop matches 503 if score #success switch.data matches 0 run playsound entity.zombie.attack_iron_door ambient @s

## Visible
# Arrow amount
execute if score @s switch.trigger.shop matches 511 if score @s switch.spectres_game.vi_arrows matches 0 if score @s switch.money matches 50.. store success score #success switch.data run scoreboard players remove @s switch.money 50
execute if score @s switch.trigger.shop matches 511 if score @s switch.spectres_game.vi_arrows matches 1 if score @s switch.money matches 100.. store success score #success switch.data run scoreboard players remove @s switch.money 100
execute if score @s switch.trigger.shop matches 511 if score @s switch.spectres_game.vi_arrows matches 2 if score @s switch.money matches 200.. store success score #success switch.data run scoreboard players remove @s switch.money 200
execute if score @s switch.trigger.shop matches 511 if score @s switch.spectres_game.vi_arrows matches 3 if score @s switch.money matches 400.. store success score #success switch.data run scoreboard players remove @s switch.money 400
execute if score @s switch.trigger.shop matches 511 if score #success switch.data matches 1.. run scoreboard players add @s switch.spectres_game.vi_arrows 1
execute if score @s switch.trigger.shop matches 511 if score #success switch.data matches 1.. run tellraw @s [{"text":"Votre achat pour améliorer votre nombre de flèches a bien été effectué !","color":"green"}]
execute if score @s switch.trigger.shop matches 511 if score #success switch.data matches 1.. run playsound entity.player.levelup ambient @s
execute if score @s switch.trigger.shop matches 511 if score #success switch.data matches 0 run tellraw @s [{"text":"Vous n'avez pas assez d'argent pour améliorer votre nombre de flèches !","color":"red"}]
execute if score @s switch.trigger.shop matches 511 if score #success switch.data matches 0 run playsound entity.zombie.attack_iron_door ambient @s

# Golden Apples amount
execute if score @s switch.trigger.shop matches 512 if score @s switch.spectres_game.vi_apples matches 0 if score @s switch.money matches 50.. store success score #success switch.data run scoreboard players remove @s switch.money 50
execute if score @s switch.trigger.shop matches 512 if score @s switch.spectres_game.vi_apples matches 1 if score @s switch.money matches 100.. store success score #success switch.data run scoreboard players remove @s switch.money 100
execute if score @s switch.trigger.shop matches 512 if score @s switch.spectres_game.vi_apples matches 2 if score @s switch.money matches 200.. store success score #success switch.data run scoreboard players remove @s switch.money 200
execute if score @s switch.trigger.shop matches 512 if score #success switch.data matches 1.. run scoreboard players add @s switch.spectres_game.vi_apples 1
execute if score @s switch.trigger.shop matches 512 if score #success switch.data matches 1.. run tellraw @s [{"text":"Votre achat pour améliorer votre nombre de pommes a bien été effectué !","color":"green"}]
execute if score @s switch.trigger.shop matches 512 if score #success switch.data matches 1.. run playsound entity.player.levelup ambient @s
execute if score @s switch.trigger.shop matches 512 if score #success switch.data matches 0 run tellraw @s [{"text":"Vous n'avez pas assez d'argent pour améliorer votre nombre de pommes !","color":"red"}]
execute if score @s switch.trigger.shop matches 512 if score #success switch.data matches 0 run playsound entity.zombie.attack_iron_door ambient @s

# Slow regeneration
execute if score @s switch.trigger.shop matches 513 if score @s switch.spectres_game.vi_slow_regen matches 0 if score @s switch.money matches 600.. store success score #success switch.data run scoreboard players remove @s switch.money 600
execute if score @s switch.trigger.shop matches 513 if score #success switch.data matches 1.. run scoreboard players add @s switch.spectres_game.vi_slow_regen 1
execute if score @s switch.trigger.shop matches 513 if score #success switch.data matches 1.. run tellraw @s [{"text":"Votre achat pour obtenir une régénération passive lente a bien été effectué !","color":"green"}]
execute if score @s switch.trigger.shop matches 513 if score #success switch.data matches 1.. run playsound entity.player.levelup ambient @s
execute if score @s switch.trigger.shop matches 513 if score #success switch.data matches 0 run tellraw @s [{"text":"Vous n'avez pas assez d'argent pour obtenir une régénération passive lente !","color":"red"}]
execute if score @s switch.trigger.shop matches 513 if score #success switch.data matches 0 run playsound entity.zombie.attack_iron_door ambient @s

# Messages
tellraw @s [{"text":"➤ ","color":"gold"},{"text":"Spectre","color":"yellow"}]
execute if score @s switch.spectres_game.sp_arrow_effect matches 0 run tellraw @s [{"text":"Flèches à effet aléatoire","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 501"},"hoverEvent":{"action":"show_text","contents":[{"text":"5% de chance -> 10% de chance\n","color":"green"},{"text":"Acheter pour 50 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_arrow_effect matches 1 run tellraw @s [{"text":"Flèches à effet aléatoire","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮","color":"yellow"},{"text":"✮✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 501"},"hoverEvent":{"action":"show_text","contents":[{"text":"10% de chance -> 15% de chance\n","color":"green"},{"text":"Acheter pour 100 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_arrow_effect matches 2 run tellraw @s [{"text":"Flèches à effet aléatoire","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮","color":"yellow"},{"text":"✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 501"},"hoverEvent":{"action":"show_text","contents":[{"text":"15% de chance -> 20% de chance\n","color":"green"},{"text":"Acheter pour 200 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_arrow_effect matches 3 run tellraw @s [{"text":"Flèches à effet aléatoire","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮","color":"yellow"},{"text":"✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 501"},"hoverEvent":{"action":"show_text","contents":[{"text":"20% de chance -> 25% de chance\n","color":"green"},{"text":"Acheter pour 400 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_arrow_effect matches 4 run tellraw @s [{"text":"Flèches à effet aléatoire","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮✮","color":"yellow"},{"text":" ","color":"gray"},{"text":"[+]","color":"gray"}]
execute if score @s switch.spectres_game.sp_arrows matches 0 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 502"},"hoverEvent":{"action":"show_text","contents":[{"text":"24 -> 28 flèches\n","color":"green"},{"text":"Acheter pour 50 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_arrows matches 1 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮","color":"yellow"},{"text":"✮✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 502"},"hoverEvent":{"action":"show_text","contents":[{"text":"28 -> 32 flèches\n","color":"green"},{"text":"Acheter pour 100 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_arrows matches 2 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮","color":"yellow"},{"text":"✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 502"},"hoverEvent":{"action":"show_text","contents":[{"text":"32 -> 36 flèches\n","color":"green"},{"text":"Acheter pour 200 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_arrows matches 3 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮","color":"yellow"},{"text":"✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 502"},"hoverEvent":{"action":"show_text","contents":[{"text":"36 -> 40 flèches\n","color":"green"},{"text":"Acheter pour 400 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_arrows matches 4 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮✮","color":"yellow"},{"text":" ","color":"gray"},{"text":"[+]","color":"gray"}]
execute if score @s switch.spectres_game.sp_apples matches 0 run tellraw @s [{"text":"Pommes d'or","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 503"},"hoverEvent":{"action":"show_text","contents":[{"text":"8 -> 9 pommes d'or\n","color":"green"},{"text":"Acheter pour 50 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_apples matches 1 run tellraw @s [{"text":"Pommes d'or","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮","color":"yellow"},{"text":"✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 503"},"hoverEvent":{"action":"show_text","contents":[{"text":"9 -> 10 pommes d'or\n","color":"green"},{"text":"Acheter pour 100 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_apples matches 2 run tellraw @s [{"text":"Pommes d'or","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮","color":"yellow"},{"text":"✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 503"},"hoverEvent":{"action":"show_text","contents":[{"text":"10 -> 11 pommes d'or\n","color":"green"},{"text":"Acheter pour 200 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.sp_apples matches 3 run tellraw @s [{"text":"Pommes d'or","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮","color":"yellow"},{"text":" ","color":"gray"},{"text":"[+]","color":"gray"}]

tellraw @s [{"text":"➤ ","color":"gold"},{"text":"Visible","color":"yellow"}]
execute if score @s switch.spectres_game.vi_arrows matches 0 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 511"},"hoverEvent":{"action":"show_text","contents":[{"text":"16 -> 18 flèches\n","color":"green"},{"text":"Acheter pour 50 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.vi_arrows matches 1 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮","color":"yellow"},{"text":"✮✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 511"},"hoverEvent":{"action":"show_text","contents":[{"text":"18 -> 20 flèches\n","color":"green"},{"text":"Acheter pour 100 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.vi_arrows matches 2 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮","color":"yellow"},{"text":"✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 511"},"hoverEvent":{"action":"show_text","contents":[{"text":"20 -> 22 flèches\n","color":"green"},{"text":"Acheter pour 200 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.vi_arrows matches 3 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮","color":"yellow"},{"text":"✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 511"},"hoverEvent":{"action":"show_text","contents":[{"text":"22 -> 24 flèches\n","color":"green"},{"text":"Acheter pour 400 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.vi_arrows matches 4 run tellraw @s [{"text":"Flèches","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮✮","color":"yellow"},{"text":" ","color":"gray"},{"text":"[+]","color":"gray"}]
execute if score @s switch.spectres_game.vi_apples matches 0 run tellraw @s [{"text":"Pommes d'or","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 512"},"hoverEvent":{"action":"show_text","contents":[{"text":"5 -> 6 pommes d'or\n","color":"green"},{"text":"Acheter pour 50 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.vi_apples matches 1 run tellraw @s [{"text":"Pommes d'or","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮","color":"yellow"},{"text":"✮✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 512"},"hoverEvent":{"action":"show_text","contents":[{"text":"6 -> 7 pommes d'or\n","color":"green"},{"text":"Acheter pour 100 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.vi_apples matches 2 run tellraw @s [{"text":"Pommes d'or","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮","color":"yellow"},{"text":"✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 512"},"hoverEvent":{"action":"show_text","contents":[{"text":"7 -> 8 pommes d'or\n","color":"green"},{"text":"Acheter pour 200 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.vi_apples matches 3 run tellraw @s [{"text":"Pommes d'or","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮✮✮","color":"yellow"},{"text":" ","color":"gray"},{"text":"[+]","color":"gray"}]
execute if score @s switch.spectres_game.vi_slow_regen matches 0 run tellraw @s [{"text":"Régénération lente","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮ ","color":"gray"},{"text":"[+]","color":"green","clickEvent":{"action":"run_command","value":"/trigger switch.trigger.shop set 513"},"hoverEvent":{"action":"show_text","contents":[{"text":"Un coeur régénéré toutes les 10 secondes\n","color":"green"},{"text":"Acheter pour 600 Saphirs","color":"yellow"}]}}]
execute if score @s switch.spectres_game.vi_slow_regen matches 1 run tellraw @s [{"text":"Régénération lente","color":"aqua"},{"text":" | ","bold":true,"color":"dark_gray"},{"text":"✮","color":"yellow"},{"text":" ","color":"gray"},{"text":"[+]","color":"gray"}]

