
#> switch:maps/survival/switch_space/spread_players
#
# @executed	as @e[type=marker,tag=switch.selected_map] & at @s
#
# @within	switch:maps/survival/switch_space/teleport_players
#

execute in switch:game run spreadplayers 0 0 80 160 under 246 false @a[tag=!detached]

## Assurance commands

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

execute as @a[tag=!detached] at @s if entity @s[y=-64,dy=-1] in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-2 ~ barrier in switch:game run spreadplayers 0 0 80 160 under 246 false @s
execute as @a[tag=!detached] at @s if block ~ ~-1 ~ #switch:not_spreadplayers in switch:game run spreadplayers 0 0 80 160 under 246 false @s

