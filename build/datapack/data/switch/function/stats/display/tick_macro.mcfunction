
#> switch:stats/display/tick_macro
#
# @executed	positioned 47.5 70.5 -2
#
# @within	switch:lobby_second {path:"all.modes.TODO2.total_games",label:"???",mode:2} [ positioned 47.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.TODOO.total_games",label:"???",mode:2} [ positioned 36.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.TODO.total_games",label:"???",mode:2} [ positioned -80.5 70.5 -2 ]
#			switch:lobby_second {path:"all.player.total_deaths",label:"Deaths",mode:3} [ positioned -5 71.5 -15 ]
#			switch:lobby_second {path:"all.player.total_kills",label:"Kills",mode:3} [ positioned -5 71.5 -18 ]
#			switch:lobby_second {path:"all.player.total_wins",label:"Victories",mode:3} [ positioned -3 71.5 -20 ]
#			switch:lobby_second {path:"all.player.played_win_ratio",label:"Win rate",mode:3} [ positioned 0 71.5 -21 ]
#			switch:lobby_second {path:"all.player.total_played",label:"Games played",mode:3} [ positioned 3 71.5 -20 ]
#			switch:lobby_second {path:"all.player.advancement_count",label:"Advancements",mode:3} [ positioned 5 71.5 -18 ]
#			switch:lobby_second {path:"all.player.total_money",label:"Current money",mode:3} [ positioned 5 71.5 -15 ]
#			switch:lobby_second {path:"all.modes.murder_mystery.total_games",label:"Murder Mystery",mode:2} [ positioned 14.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.murder_mystery.played",label:"Games played",mode:1} [ positioned 13 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.murder_mystery.wins",label:"Victories",mode:1} [ positioned 16 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.pitch_creep.total_games",label:"Pitch Creep",mode:2} [ positioned 25.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.pitch_creep.played",label:"Games played",mode:1} [ positioned 24 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.pitch_creep.wins",label:"Victories",mode:1} [ positioned 27 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.warden_escape.total_games",label:"Warden Escape",mode:2} [ positioned 36.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.warden_escape.played",label:"Games played",mode:1} [ positioned 35 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.warden_escape.wins",label:"Victories",mode:1} [ positioned 38 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.panic_chase.total_games",label:"Panic Chase",mode:2} [ positioned 47.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.panic_chase.played",label:"Games played",mode:1} [ positioned 49 70.5 6 ]
#			switch:lobby_second {path:"all.modes.panic_chase.wins",label:"Victories",mode:1} [ positioned 46 70.5 6 ]
#			switch:lobby_second {path:"all.modes.creeper_apocalypse.total_games",label:"Creeper Apocalypse",mode:2} [ positioned 25.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.creeper_apocalypse.played",label:"Games played",mode:1} [ positioned 27 70.5 6 ]
#			switch:lobby_second {path:"all.modes.creeper_apocalypse.wins",label:"Victories",mode:1} [ positioned 24 70.5 6 ]
#			switch:lobby_second {path:"all.modes.infected.total_games",label:"Infected",mode:2} [ positioned 14.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.infected.played",label:"Games played",mode:1} [ positioned 16 70.5 6 ]
#			switch:lobby_second {path:"all.modes.infected.wins",label:"Victories",mode:1} [ positioned 13 70.5 6 ]
#			switch:lobby_second {path:"all.modes.spleef.total_games",label:"Spleef",mode:2} [ positioned 2 70.5 14.5 ]
#			switch:lobby_second {path:"all.modes.spleef.played",label:"Games played",mode:1} [ positioned 6 70.5 13 ]
#			switch:lobby_second {path:"all.modes.spleef.wins",label:"Victories",mode:1} [ positioned 6 70.5 16 ]
#			switch:lobby_second {path:"all.modes.de_a_coudre.played",label:"Games played",mode:1} [ positioned 6 70.5 24 ]
#			switch:lobby_second {path:"all.modes.de_a_coudre.total_games",label:"Dé à Coudre",mode:2} [ positioned 2 70.5 25.5 ]
#			switch:lobby_second {path:"all.modes.de_a_coudre.wins",label:"Victories",mode:1} [ positioned 6 70.5 27 ]
#			switch:lobby_second {path:"all.modes.tnt_run.total_games",label:"TNT Run",mode:2} [ positioned 2 70.5 36.5 ]
#			switch:lobby_second {path:"all.modes.tnt_run.played",label:"Games played",mode:1} [ positioned 6 70.5 35 ]
#			switch:lobby_second {path:"all.modes.tnt_run.wins",label:"Victories",mode:1} [ positioned 6 70.5 38 ]
#			switch:lobby_second {path:"all.modes.block_party.total_games",label:"Block Party",mode:2} [ positioned 2 70.5 47.5 ]
#			switch:lobby_second {path:"all.modes.block_party.played",label:"Games played",mode:1} [ positioned 6 70.5 46 ]
#			switch:lobby_second {path:"all.modes.block_party.wins",label:"Victories",mode:1} [ positioned 6 70.5 49 ]
#			switch:lobby_second {path:"all.modes.snowball_painter.total_games",label:"Snowball Painter",mode:2} [ positioned 2 70.5 58.5 ]
#			switch:lobby_second {path:"all.modes.snowball_painter.played",label:"Games played",mode:1} [ positioned 6 70.5 57 ]
#			switch:lobby_second {path:"all.modes.snowball_painter.wins",label:"Victories",mode:1} [ positioned 6 70.5 60 ]
#			switch:lobby_second {path:"all.modes.coin_chaser.total_games",label:"Coin Chaser",mode:2} [ positioned 2 70.5 69.5 ]
#			switch:lobby_second {path:"all.modes.coin_chaser.played",label:"Games played",mode:1} [ positioned 6 70.5 68 ]
#			switch:lobby_second {path:"all.modes.coin_chaser.wins",label:"Victories",mode:1} [ positioned 6 70.5 71 ]
#			switch:lobby_second {path:"all.modes.bombardement.total_games",label:"Bombardement",mode:2} [ positioned 2 70.5 80.5 ]
#			switch:lobby_second {path:"all.modes.bombardement.played",label:"Games played",mode:1} [ positioned 6 70.5 79 ]
#			switch:lobby_second {path:"all.modes.bombardement.wins",label:"Victories",mode:1} [ positioned 6 70.5 82 ]
#			switch:lobby_second {path:"all.modes.minigolf.total_games",label:"MiniGolf",mode:2} [ positioned 2 70.5 91.5 ]
#			switch:lobby_second {path:"all.modes.minigolf.played",label:"Games played",mode:1} [ positioned 6 70.5 90 ]
#			switch:lobby_second {path:"all.modes.minigolf.wins",label:"Victories",mode:1} [ positioned 6 70.5 93 ]
#			switch:lobby_second {path:"all.modes.mlg_a_coudre.total_games",label:"MLG à Coudre",mode:2} [ positioned 2 70.5 102.5 ]
#			switch:lobby_second {path:"all.modes.mlg_a_coudre.played",label:"Games played",mode:1} [ positioned 6 70.5 101 ]
#			switch:lobby_second {path:"all.modes.mlg_a_coudre.wins",label:"Victories",mode:1} [ positioned 6 70.5 104 ]
#			switch:lobby_second {path:"all.modes.fish_fight.total_games",label:"Fish Fight",mode:2} [ positioned 2 70.5 113.5 ]
#			switch:lobby_second {path:"all.modes.fish_fight.played",label:"Games played",mode:1} [ positioned 6 70.5 112 ]
#			switch:lobby_second {path:"all.modes.fish_fight.wins",label:"Victories",mode:1} [ positioned 6 70.5 115 ]
#			switch:lobby_second {path:"all.modes.fireblast.total_games",label:"Fireblast",mode:2} [ positioned 2 70.5 124.5 ]
#			switch:lobby_second {path:"all.modes.fireblast.played",label:"Games played",mode:1} [ positioned 6 70.5 123 ]
#			switch:lobby_second {path:"all.modes.fireblast.wins",label:"Victories",mode:1} [ positioned 6 70.5 126 ]
#			switch:lobby_second {path:"all.modes.race.total_games",label:"Race",mode:2} [ positioned 2 70.5 135.5 ]
#			switch:lobby_second {path:"all.modes.race.played",label:"Games played",mode:1} [ positioned 6 70.5 134 ]
#			switch:lobby_second {path:"all.modes.race.wins",label:"Victories",mode:1} [ positioned 6 70.5 137 ]
#			switch:lobby_second {path:"all.modes.one_shot.total_games",label:"One Shot",mode:2} [ positioned -2 70.5 135.5 ]
#			switch:lobby_second {path:"all.modes.one_shot.played",label:"Games played",mode:1} [ positioned -6 70.5 137 ]
#			switch:lobby_second {path:"all.modes.one_shot.wins",label:"Victories",mode:1} [ positioned -6 70.5 134 ]
#			switch:lobby_second {path:"all.modes.pillars_of_fortune.total_games",label:" Pillars of Fortune ",mode:2} [ positioned -2 70.5 124.5 ]
#			switch:lobby_second {path:"all.modes.pillars_of_fortune.played",label:"Games played",mode:1} [ positioned -6 70.5 126 ]
#			switch:lobby_second {path:"all.modes.pillars_of_fortune.wins",label:"Victories",mode:1} [ positioned -6 70.5 123 ]
#			switch:lobby_second {path:"all.modes.memory_mine.total_games",label:"Memory Mine",mode:2} [ positioned -2 70.5 113.5 ]
#			switch:lobby_second {path:"all.modes.memory_mine.played",label:"Games played",mode:1} [ positioned -6 70.5 115 ]
#			switch:lobby_second {path:"all.modes.memory_mine.wins",label:"Victories",mode:1} [ positioned -6 70.5 112 ]
#			switch:lobby_second {path:"all.modes.cigogne.total_games",label:"Cigogne",mode:2} [ positioned -2 70.5 102.5 ]
#			switch:lobby_second {path:"all.modes.cigogne.played",label:"Games played",mode:1} [ positioned -6 70.5 104 ]
#			switch:lobby_second {path:"all.modes.cigogne.wins",label:"Victories",mode:1} [ positioned -6 70.5 101 ]
#			switch:lobby_second {path:"all.modes.shoot_da_sheep.total_games",label:"Shoot Da\\'Sheep",mode:2} [ positioned -2 70.5 91.5 ]
#			switch:lobby_second {path:"all.modes.shoot_da_sheep.played",label:"Games played",mode:1} [ positioned -6 70.5 93 ]
#			switch:lobby_second {path:"all.modes.shoot_da_sheep.wins",label:"Victories",mode:1} [ positioned -6 70.5 90 ]
#			switch:lobby_second {path:"all.modes.simultaneous_jump.total_games",label:"Simultaneous Jump",mode:2} [ positioned -2 70.5 80.5 ]
#			switch:lobby_second {path:"all.modes.simultaneous_jump.played",label:"Games played",mode:1} [ positioned -6 70.5 82 ]
#			switch:lobby_second {path:"all.modes.simultaneous_jump.wins",label:"Victories",mode:1} [ positioned -6 70.5 79 ]
#			switch:lobby_second {path:"all.modes.build_battle.total_games",label:"Build Battle",mode:2} [ positioned -2 70.5 69.5 ]
#			switch:lobby_second {path:"all.modes.build_battle.played",label:"Games played",mode:1} [ positioned -6 70.5 71 ]
#			switch:lobby_second {path:"all.modes.build_battle.wins",label:"Victories",mode:1} [ positioned -6 70.5 68 ]
#			switch:lobby_second {path:"all.modes.moutron.total_games",label:"Moutron",mode:2} [ positioned -2 70.5 58.5 ]
#			switch:lobby_second {path:"all.modes.moutron.played",label:"Games played",mode:1} [ positioned -6 70.5 60 ]
#			switch:lobby_second {path:"all.modes.moutron.wins",label:"Victories",mode:1} [ positioned -6 70.5 57 ]
#			switch:lobby_second {path:"all.modes.thunder_spear.total_games",label:"Thunder Spear",mode:2} [ positioned -2 70.5 47.5 ]
#			switch:lobby_second {path:"all.modes.thunder_spear.played",label:"Games played",mode:1} [ positioned -6 70.5 49 ]
#			switch:lobby_second {path:"all.modes.thunder_spear.wins",label:"Victories",mode:1} [ positioned -6 70.5 46 ]
#			switch:lobby_second {path:"all.modes.castagne.total_games",label:"Castagne",mode:2} [ positioned -2 70.5 36.5 ]
#			switch:lobby_second {path:"all.modes.castagne.played",label:"Games played",mode:1} [ positioned -6 70.5 38 ]
#			switch:lobby_second {path:"all.modes.castagne.wins",label:"Victories",mode:1} [ positioned -6 70.5 35 ]
#			switch:lobby_second {path:"all.modes.feed_fast.total_games",label:"Feed Fast",mode:2} [ positioned -2 70.5 25.5 ]
#			switch:lobby_second {path:"all.modes.feed_fast.played",label:"Games played",mode:1} [ positioned -6 70.5 27 ]
#			switch:lobby_second {path:"all.modes.feed_fast.wins",label:"Victories",mode:1} [ positioned -6 70.5 24 ]
#			switch:lobby_second {path:"all.modes.pitchout.total_games",label:"Pitchout",mode:2} [ positioned -2 70.5 14.5 ]
#			switch:lobby_second {path:"all.modes.pitchout.played",label:"Games played",mode:1} [ positioned -6 70.5 16 ]
#			switch:lobby_second {path:"all.modes.pitchout.wins",label:"Victories",mode:1} [ positioned -6 70.5 13 ]
#			switch:lobby_second {path:"all.modes.spectres_game.total_games",label:"Spectres Game",mode:2} [ positioned -14.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.spectres_game.played",label:"Games played",mode:1} [ positioned -13 70.5 6 ]
#			switch:lobby_second {path:"all.modes.spectres_game.wins",label:"Victories",mode:1} [ positioned -16 70.5 6 ]
#			switch:lobby_second {path:"all.modes.sheepwars.total_games",label:"SheepWars",mode:2} [ positioned -25.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.sheepwars.played",label:"Games played",mode:1} [ positioned -24 70.5 6 ]
#			switch:lobby_second {path:"all.modes.sheepwars.wins",label:"Victories",mode:1} [ positioned -27 70.5 6 ]
#			switch:lobby_second {path:"all.modes.rush_the_flag.total_games",label:"Rush The Flag",mode:2} [ positioned -36.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.rush_the_flag.played",label:"Games played",mode:1} [ positioned -35 70.5 6 ]
#			switch:lobby_second {path:"all.modes.rush_the_flag.wins",label:"Victories",mode:1} [ positioned -38 70.5 6 ]
#			switch:lobby_second {path:"all.modes.gay_shooter.played",label:"Games played",mode:1} [ positioned -46 70.5 6 ]
#			switch:lobby_second {path:"all.modes.gay_shooter.total_games",label:"Guy Shooter",mode:2} [ positioned -47.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.gay_shooter.wins",label:"Victories",mode:1} [ positioned -49 70.5 6 ]
#			switch:lobby_second {path:"all.modes.layers_4_teams.total_games",label:"Layers 4 Teams",mode:2} [ positioned -58.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.layers_4_teams.played",label:"Games played",mode:1} [ positioned -57 70.5 6 ]
#			switch:lobby_second {path:"all.modes.layers_4_teams.wins",label:"Victories",mode:1} [ positioned -60 70.5 6 ]
#			switch:lobby_second {path:"all.modes.beat_the_kings.total_games",label:"Beat The Kings",mode:2} [ positioned -69.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.beat_the_kings.played",label:"Games played",mode:1} [ positioned -68 70.5 6 ]
#			switch:lobby_second {path:"all.modes.beat_the_kings.wins",label:"Victories",mode:1} [ positioned -71 70.5 6 ]
#			switch:lobby_second {path:"all.modes.glassrunner.total_games",label:"GlassRunner",mode:2} [ positioned -80.5 70.5 2 ]
#			switch:lobby_second {path:"all.modes.glassrunner.played",label:"Games played",mode:1} [ positioned -79 70.5 7 ]
#			switch:lobby_second {path:"all.modes.glassrunner.wins",label:"Victories",mode:1} [ positioned -82 70.5 7 ]
#			switch:lobby_second {path:"all.modes.laser_game.total_games",label:"Laser Game",mode:2} [ positioned -69.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.laser_game.played",label:"Games played",mode:1} [ positioned -71 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.laser_game.wins",label:"Victories",mode:1} [ positioned -68 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.layers_2_teams.total_games",label:"Layers 2 Teams",mode:2} [ positioned -58.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.layers_2_teams.played",label:"Games played",mode:1} [ positioned -60 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.layers_2_teams.wins",label:"Victories",mode:1} [ positioned -57 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.protect_the_king.total_games",label:"Protect The King",mode:2} [ positioned -47.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.protect_the_king.played",label:"Games played",mode:1} [ positioned -49 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.protect_the_king.wins",label:"Victories",mode:1} [ positioned -46 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.rush_the_point.total_games",label:"Rush The Point",mode:2} [ positioned -36.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.rush_the_point.played",label:"Games played",mode:1} [ positioned -38 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.rush_the_point.wins",label:"Victories",mode:1} [ positioned -35 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.capture_the_flag.total_games",label:"Capture The Flag",mode:2} [ positioned -25.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.capture_the_flag.played",label:"Games played",mode:1} [ positioned -27 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.capture_the_flag.wins",label:"Victories",mode:1} [ positioned -24 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.traitors_game.total_games",label:"Traitors Game",mode:2} [ positioned -14.5 70.5 -2 ]
#			switch:lobby_second {path:"all.modes.traitors_game.played",label:"Games played",mode:1} [ positioned -16 70.5 -6 ]
#			switch:lobby_second {path:"all.modes.traitors_game.wins",label:"Victories",mode:1} [ positioned -13 70.5 -6 ]
#			switch:stats/display/tick_macro {path:"all.modes.minigolf.played",label:"Parties jouées",mode:1}
#

## Input macro: path = "all.modes.pitch_creep.played", label = "Parties jouées\n", mode = 1
## Ex: execute positioned ~ 70.5 ~ run function switch:stats/display/tick_macro {path:"all.modes.minigolf.played",label:"Parties jouées",mode:1}
# mode = 1 : path leading to an array, mode = 2 : path leading to a value
#
# scoreboard value "#display_$(path) switch.data" is set to 1 if the display has been summoned, and set to 0 if it has been killed (to prevent ticking @e again)
# scoreboard value "#player_nearby switch.data" is set to 1 if there is a player nearby, and set to 0 if there is no player nearby
# scoreboard value "#display_nearby switch.data" is set to 1 if there is a display nearby, and set to 0 if there is no display nearby

# Stop if not in overworld
execute unless dimension minecraft:overworld run return fail

# Set scoreboard values
$scoreboard players set #mode switch.data $(mode)
scoreboard players set #player_nearby switch.data 0
execute if score #mode switch.data matches 1 if entity @a[distance=0.1..12] run scoreboard players set #player_nearby switch.data 1
execute if score #mode switch.data matches 2 if entity @a[distance=0.1..24] run scoreboard players set #player_nearby switch.data 1
execute if score #mode switch.data matches 3 if entity @a[distance=0.1..24] run scoreboard players set #player_nearby switch.data 1
execute if score #mode switch.data matches 3 run scoreboard players set #mode switch.data 1
scoreboard players set #display_nearby switch.data 0
$execute if score #display_$(path) switch.data matches 1 if entity @n[tag=$(path),distance=..1] run scoreboard players set #display_nearby switch.data 1
$execute if score #display_$(path) switch.data matches 1 if score #display_nearby switch.data matches 0 run scoreboard players set #display_$(path) switch.data 0

# If there is no player nearby and the display is alive, kill it
$execute if score #player_nearby switch.data matches 0 if score #display_nearby switch.data matches 1 run kill @n[tag=$(path),distance=..1]
$execute if score #player_nearby switch.data matches 0 if score #display_nearby switch.data matches 1 run scoreboard players set #display_$(path) switch.data 0

# If there is a player nearby and the display is dead, summon it
$execute if score #player_nearby switch.data matches 1 if score #display_nearby switch.data matches 0 run function switch:stats/display/summon {path:"$(path)",label:"$(label)"}

